{"ast":null,"code":"import _toConsumableArray from\"/Users/user/CODE/Weather-App-G5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/user/CODE/Weather-App-G5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ParentComponent(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];useEffect(function(){fetch(\"https://my-json-server.typicode.com/petersamson-kingori/project-databse/tasks\").then(function(response){return response.json();}).then(function(data){return setTasks(data);});},[]);var handleAddTask=function handleAddTask(newTask){setTasks([].concat(_toConsumableArray(tasks),[newTask]));};var handleDeleteTask=function handleDeleteTask(taskId){setTasks(tasks.filter(function(task){return task.id!==taskId;}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AddTaskForm,{onAddTask:handleAddTask}),/*#__PURE__*/_jsx(TaskList,{tasks:tasks,onDeleteTask:handleDeleteTask})]});}function AddTaskForm(_ref){var onAddTask=_ref.onAddTask;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newTask=_useState4[0],setNewTask=_useState4[1];var handleSubmit=function handleSubmit(event){event.preventDefault();if(newTask.trim()!==\"\"){var taskId=Math.floor(Math.random()*10000)+1;var task={id:taskId,title:newTask};fetch(\"https://my-json-server.typicode.com/petersamson-kingori/project-databse/tasks\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(task)}).then(function(response){return response.json();}).then(function(data){onAddTask(data);setNewTask(\"\");});}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add task\",value:newTask,onChange:function onChange(event){return setNewTask(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})]});}function TaskList(_ref2){var tasks=_ref2.tasks,onDeleteTask=_ref2.onDeleteTask;var handleDeleteTask=function handleDeleteTask(taskId){fetch(\"https://my-json-server.typicode.com/petersamson-kingori/project-databse/tasks/\".concat(taskId),{method:\"DELETE\"}).then(function(){return onDeleteTask(taskId);});};return/*#__PURE__*/_jsx(\"ul\",{children:tasks.map(function(task){return/*#__PURE__*/_jsxs(\"li\",{children:[task.title,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeleteTask(task.id);},children:\"Delete\"})]},task.id);})});}export default ParentComponent;","map":{"version":3,"names":["React","useState","useEffect","ParentComponent","tasks","setTasks","fetch","then","response","json","data","handleAddTask","newTask","handleDeleteTask","taskId","filter","task","id","AddTaskForm","onAddTask","setNewTask","handleSubmit","event","preventDefault","trim","Math","floor","random","title","method","headers","body","JSON","stringify","target","value","TaskList","onDeleteTask","map"],"sources":["/Users/user/CODE/Weather-App-G5/src/ParentComponent.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction ParentComponent() {\n  const [tasks, setTasks] = useState([]);\n\n  useEffect(() => {\n    fetch(\"https://my-json-server.typicode.com/petersamson-kingori/project-databse/tasks\")\n      .then((response) => response.json())\n      .then((data) => setTasks(data));\n  }, []);\n\n  const handleAddTask = (newTask) => {\n    setTasks([...tasks, newTask]);\n  };\n\n  const handleDeleteTask = (taskId) => {\n    setTasks(tasks.filter((task) => task.id !== taskId));\n  };\n\n  return (\n    <div>\n      <AddTaskForm onAddTask={handleAddTask} />\n      <TaskList tasks={tasks} onDeleteTask={handleDeleteTask} />\n    </div>\n  );\n}\n\nfunction AddTaskForm({ onAddTask }) {\n  const [newTask, setNewTask] = useState(\"\");\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (newTask.trim() !== \"\") {\n      const taskId = Math.floor(Math.random() * 10000) + 1;\n      const task = { id: taskId, title: newTask };\n      fetch(\"https://my-json-server.typicode.com/petersamson-kingori/project-databse/tasks\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(task),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          onAddTask(data);\n          setNewTask(\"\");\n        });\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        placeholder=\"Add task\"\n        value={newTask}\n        onChange={(event) => setNewTask(event.target.value)}\n      />\n      <button type=\"submit\">Add</button>\n    </form>\n  );\n}\n\nfunction TaskList({ tasks, onDeleteTask }) {\n  const handleDeleteTask = (taskId) => {\n    fetch(`https://my-json-server.typicode.com/petersamson-kingori/project-databse/tasks/${taskId}`, {\n      method: \"DELETE\",\n    }).then(() => onDeleteTask(taskId));\n  };\n\n  return (\n    <ul>\n      {tasks.map((task) => (\n        <li key={task.id}>\n          {task.title}{\" \"}\n          <button onClick={() => handleDeleteTask(task.id)}>Delete</button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default ParentComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}